syntax="proto3";                //Proto协议
option go_package = "./;common";
package pos;                     //当前包名

//位置信息
message PbVec3{
	float X=1;
	float Y=2;
	float Z=3;
}

message PbPosition{
	PbVec3 Pos=1;	//位置
	PbVec3 Dir=2;	//朝向
}

//玩家位置信息
message PbPlayerPos{
	uint32 UID	=	1;	//用户ID
	PbPosition P	=	2;
}


// 用户已经穿戴的数
message PbDresseds  {
	uint32  ItemId  = 1; // 道具ID
	uint32  ChildId = 2;// 物品ID
	uint32  EndTime   = 3; // 到期时间
}


//玩家简略信息
message PbPlayerMin{
	uint32              UID	      = 1; // 用户ID
	string              Name      = 2; // 昵称
	uint32              Sex       = 3; // 性别
	repeated PbDresseds Dressed   = 4; // 穿戴信息
	uint32              LocalTime = 5; // 服务器本地时间
	uint32 							Action		= 6;	//用户行为，1站立、空闲，2行走，3跑，4跳
}

//玩家详细信息
message PbPlayerInfo{
	uint32 UID	=	1;	//用户ID
	string Name	=	2;	//昵称
}

// C2S_MsgID=90@2
message C2SPlayerMove{
	uint32 UID				=	1;	//用户ID
	PbPosition CurPos	= 2;	//当前位置
}

//玩家广播数据
// S2C_MsgID=90@10000
message S2CSyncPos{
	repeated PbPlayerPos Lst	=	1;//用户位置信息列表
}

// S2C_MsgID=90@10003
message S2CPlayerRemove{
	repeated uint32 Lst	=	1;//用户ID列表
}

// 服务器发给客户端的玩家简略信息（场景显示玩家所需信息）
// S2C_MsgID=90@10001
message S2CPlayerMin{
	repeated PbPlayerMin Lst	=	1;
}

// 客户端发给服务器，获取玩家详细信息
// C2S_MsgID=90@1
message C2SPlayerInfo{
	uint32 UID	=	1;	//用户ID
}

// 服务器发给客户端的玩家详细信息（查看玩家详情所需信息）
// S2C_MsgID=90@10002
message S2CPlayerInfo{
	PbPlayerInfo Data	=	1;	//用户信息
}

// 客户端发给服务器，获取玩家详细信息
// C2S_MsgID=90@3
message C2SChangeAction{
	uint32 UID		=	1;	//用户ID
	uint32 Action	= 2;	//用户行为，1站立、空闲，2行走，3跑，4跳
}

// 服务器发给客户端的玩家详细信息（查看玩家详情所需信息）
// S2C_MsgID=90@10004
message S2CChangeAction{
	uint32 UID		=	1;	//用户ID
	uint32 Action	= 2;	//用户行为
}
